!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Snekfetch=t():e.Snekfetch=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(r(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(s(n))for(a=Array.prototype.slice.call(arguments,1),o=(u=n.slice()).length,c=0;c<o;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(o=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}return s.listener=t,this.on(e,s),this},n.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){var n,i,s=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var c,u=[],l=!1,h=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&_())}function _(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function E(e,t){this.fun=e,this.array=t}function p(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new E(e,t)),1!==u.length||l||a(_)},E.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){let i;try{const{app:e}=n(14);i=e.setAsDefaultProtocolClient.bind(e)}catch(e){try{i=n(13)}catch(e){}}"function"!=typeof i&&(i=(()=>!1));e.exports={pid:function(){return void 0!==t?t.pid:null},register:i,uuid:()=>{let e="";for(let t=0;t<32;t+=1){let n;if(8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),12===t)n=4;else{const e=16*Math.random()|0;n=16===t?3&e|0:e}e+=n.toString(16)}return e}}}).call(this,n(2))},function(e,t,n){"use strict";function i(e){const t={};for(const n of e)t[n]=n;return t}t.RPCCommands=i(["DISPATCH","AUTHORIZE","AUTHENTICATE","GET_GUILD","GET_GUILDS","GET_CHANNEL","GET_CHANNELS","SUBSCRIBE","UNSUBSCRIBE","SET_USER_VOICE_SETTINGS","SELECT_VOICE_CHANNEL","GET_SELECTED_VOICE_CHANNEL","SELECT_TEXT_CHANNEL","GET_VOICE_SETTINGS","SET_VOICE_SETTINGS","CAPTURE_SHORTCUT","SET_CERTIFIED_DEVICES","SET_ACTIVITY","SEND_ACTIVITY_JOIN_INVITE","SEND_ACTIVITY_JOIN_REQUEST","CLOSE_ACTIVITY_JOIN_REQUEST","CREATE_LOBBY","UPDATE_LOBBY","DELETE_LOBBY","UPDATE_LOBBY_MEMBER","CONNECT_TO_LOBBY","DISCONNECT_FROM_LOBBY","SEND_TO_LOBBY","INVITE_BROWSER","DEEP_LINK","CONNECTIONS_CALLBACK","OVERLAY","BROWSER_HANDOFF"]),t.RPCEvents=i(["GUILD_STATUS","GUILD_CREATE","CHANNEL_CREATE","VOICE_CHANNEL_SELECT","VOICE_STATE_CREATE","VOICE_STATE_DELETE","VOICE_STATE_UPDATE","VOICE_SETTINGS_UPDATE","VOICE_CONNECTION_STATUS","SPEAKING_START","SPEAKING_STOP","GAME_JOIN","GAME_SPECTATE","ACTIVITY_JOIN","ACTIVITY_JOIN_REQUEST","ACTIVITY_SPECTATE","NOTIFICATION_CREATE","MESSAGE_CREATE","MESSAGE_UPDATE","MESSAGE_DELETE","CAPTURE_SHORTCUT_CHANGE","LOBBY_DELETE","LOBBY_UPDATE","LOBBY_MEMBER_CONNECT","LOBBY_MEMBER_DISCONNECT","LOBBY_MEMBER_UPDATE","LOBBY_MESSAGE","OVERLAY","READY","ERROR"]),t.RPCErrors={UNKNOWN_ERROR:1e3,INVALID_PAYLOAD:4e3,INVALID_VERSION:4001,INVALID_COMMAND:4002,INVALID_GUILD:4003,INVALID_EVENT:4004,INVALID_CHANNEL:4005,INVALID_PERMISSIONS:4006,INVALID_CLIENTID:4007,INVALID_ORIGIN:4008,INVALID_TOKEN:4009,INVALID_USER:4010,INVALID_INVITE:4011,INVALID_ACTIVITY_JOIN_REQUEST:4012,INVALID_LOBBY:4013,INVALID_LOBBY_SECRET:4014,OAUTH2_ERROR:5e3,SELECT_CHANNEL_TIMED_OUT:5001,GET_GUILD_TIMED_OUT:5002,SELECT_VOICE_FORCE_REQUIRED:5003,CAPTURE_SHORTCUT_ALREADY_LISTENING:5004,INVALID_ACTIVITY_SECRET:5005,NO_ELIGIBLE_ACTIVITY:5006,LOBBY_FULL:5007},t.RPCCloseCodes={CLOSE_NORMAL:1e3,CLOSE_UNSUPPORTED:1003,CLOSE_ABNORMAL:1006,INVALID_CLIENTID:4e3,INVALID_ORIGIN:4001,RATELIMITED:4002,TOKEN_REVOKED:4003,INVALID_VERSION:4004,INVALID_ENCODING:4005},t.LobbyTypes={PRIVATE:1,PUBLIC:2}},function(e,t){},function(e,t,n){"use strict";const i=n(1),s=n(5),r=e=>JSON.stringify(e),o=e=>JSON.parse(e);e.exports=class extends i{constructor(e){super(),this.client=e,this.ws=null,this.tries=0}async connect(e,t=this.tries){if(this.connected)return;const n=6463+t%10;this.hostAndPort=`127.0.0.1:${n}`;const i=this.ws=new s(`ws://${this.hostAndPort}/?v=1&client_id=${this.client.clientId}`);i.onopen=this.onOpen.bind(this),i.onclose=i.onerror=this.onClose.bind(this),i.onmessage=this.onMessage.bind(this)}send(e){this.ws&&this.ws.send(r(e))}close(){this.ws&&this.ws.close()}ping(){}onMessage(e){this.emit("message",o(e.data))}onOpen(){this.client.rest.endpoint=`http://${this.hostAndPort}`,this.client.rest.versioned=!1,this.emit("open")}onClose(e){try{this.ws.close()}catch(e){}const t=e.code>=4e3&&e.code<5e3;e.code&&!t||this.emit("close",e),t||setTimeout(()=>this.connect(void 0,1006===e.code?++this.tries:0),250)}}},function(e,t){},function(e,t,n){"use strict";e.exports={ipc:n(7),websocket:n(6)}},function(e,t){e.exports=t=window.fetch,t.default=window.fetch.bind(window),t.Headers=window.Headers,t.Request=window.Request,t.Response=window.Response},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,s=1,r={},o=!1,a=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},i=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;i=function(t){var n=a.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():i=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return r[s]=o,i(s),s++},c.clearImmediate=u}function u(e){delete r[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=r[e];if(t){o=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{u(e),o=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(2))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(s.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(s.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(10),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){"use strict";const i=n(1),{setTimeout:s,clearTimeout:r}=n(11),o=n(9),a=n(8),{RPCCommands:c,RPCEvents:u}=n(4),{pid:l,uuid:h}=n(3);function d(e,t){return`${e}${JSON.stringify(t)}`}e.exports=class extends i{constructor(e={}){super(),this.options=e,this.accessToken=null,this.clientId=null,this.application=null,this.user=null;const t=a[e.transport];if(!t)throw new TypeError("RPC_INVALID_TRANSPORT",e.transport);this.fetch=((e,t,{data:n,query:i}={})=>o(`${this.fetch.endpoint}${t}${i?new URLSearchParams(i):""}`,{method:e,body:n,headers:{Authorzation:`Bearer ${this.accessToken}`}}).then(e=>e.json())),this.fetch.endpoint="https://discordapp.com/api",this.transport=new t(this),this.transport.on("message",this._onRpcMessage.bind(this)),this._expecting=new Map,this._subscriptions=new Map,this._connectPromise=void 0}connect(e){return this._connectPromise?this._connectPromise:(this._connectPromise=new Promise((t,n)=>{this.clientId=e;const i=s(()=>n(new Error("RPC_CONNECTION_TIMEOUT")),1e4);i.unref(),this.once("connected",()=>{r(i),t(this)}),this.transport.once("close",n),this.transport.connect().catch(n)}),this._connectPromise)}async login(e={}){let{clientId:t,accessToken:n}=e;return await this.connect(t),e.scopes?(n||(n=await this.authorize(e)),this.authenticate(n)):(this.emit("ready"),this)}request(e,t,n){return new Promise((i,s)=>{const r=h();this.transport.send({cmd:e,args:t,evt:n,nonce:r}),this._expecting.set(r,{resolve:i,reject:s})})}_onRpcMessage(e){if(e.cmd===c.DISPATCH&&e.evt===u.READY)e.data.user&&(this.user=e.data.user),this.emit("connected");else if(this._expecting.has(e.nonce)){const{resolve:t,reject:n}=this._expecting.get(e.nonce);if("ERROR"===e.evt){const t=new Error(e.data.message);t.code=e.data.code,t.data=e.data,n(t)}else t(e.data);this._expecting.delete(e.nonce)}else{const t=d(e.evt,e.args);if(!this._subscriptions.has(t))return;this._subscriptions.get(t)(e.data)}}async authorize({scopes:e,clientSecret:t,rpcToken:n,redirectUri:i}={}){t&&!0===n&&(n=(await this.fetch("POST","/oauth2/token/rpc",{data:new URLSearchParams({client_id:this.clientId,client_secret:t})})).rpc_token);const{code:s}=await this.request("AUTHORIZE",{scopes:e,client_id:this.clientId,rpc_token:n,redirect_uri:i});return(await this.fetch("POST","/oauth2/token",{data:new URLSearchParams({client_id:this.clientId,code:s,grant_type:"authorization_code",redirect_uri:i})})).access_token}authenticate(e){return this.request("AUTHENTICATE",{access_token:e}).then(({application:t,user:n})=>(this.accessToken=e,this.application=t,this.user=n,this.emit("ready"),this))}getGuild(e,t){return this.request(c.GET_GUILD,{guild_id:e,timeout:t})}getGuilds(e){return this.request(c.GET_GUILDS,{timeout:e})}getChannel(e,t){return this.request(c.GET_CHANNEL,{channel_id:e,timeout:t})}async getChannels(e,t){const{channels:n}=await this.request(c.GET_CHANNELS,{timeout:t,guild_id:e});return n}setCertifiedDevices(e){return this.request(c.SET_CERTIFIED_DEVICES,{devices:e.map(e=>({type:e.type,id:e.uuid,vendor:e.vendor,model:e.model,related:e.related,echo_cancellation:e.echoCancellation,noise_suppression:e.noiseSuppression,automatic_gain_control:e.automaticGainControl,hardware_mute:e.hardwareMute}))})}setUserVoiceSettings(e,t){return this.request(c.SET_USER_VOICE_SETTINGS,{user_id:e,pan:t.pan,mute:t.mute,volume:t.volume})}selectVoiceChannel(e,{timeout:t,force:n=!1}={}){return this.request(c.SELECT_VOICE_CHANNEL,{channel_id:e,timeout:t,force:n})}selectTextChannel(e,{timeout:t,force:n=!1}={}){return this.request(c.SELECT_TEXT_CHANNEL,{channel_id:e,timeout:t,force:n})}getVoiceSettings(){return this.request(c.GET_VOICE_SETTINGS).then(e=>({automaticGainControl:e.automatic_gain_control,echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,qos:e.qos,silenceWarning:e.silence_warning,deaf:e.deaf,mute:e.mute,input:{availableDevices:e.input.available_devices,device:e.input.device_id,volume:e.input.volume},output:{availableDevices:e.output.available_devices,device:e.output.device_id,volume:e.output.volume},mode:{type:e.mode.type,autoThreshold:e.mode.auto_threshold,threshold:e.mode.threshold,shortcut:e.mode.shortcut,delay:e.mode.delay}}))}setVoiceSettings(e){return this.request(c.SET_VOICE_SETTINGS,{automatic_gain_control:e.automaticGainControl,echo_cancellation:e.echoCancellation,noise_suppression:e.noiseSuppression,qos:e.qos,silence_warning:e.silenceWarning,deaf:e.deaf,mute:e.mute,input:e.input?{device_id:e.input.device,volume:e.input.volume}:void 0,output:e.output?{device_id:e.output.device,volume:e.output.volume}:void 0,mode:e.mode?{mode:e.mode.type,auto_threshold:e.mode.autoThreshold,threshold:e.mode.threshold,shortcut:e.mode.shortcut,delay:e.mode.delay}:void 0})}captureShortcut(e){const t=d(u.CAPTURE_SHORTCUT_CHANGE),n=()=>(this._subscriptions.delete(t),this.request(c.CAPTURE_SHORTCUT,{action:"STOP"}));return this._subscriptions.set(t,({shortcut:t})=>{e(t,n)}),this.request(c.CAPTURE_SHORTCUT,{action:"START"}).then(()=>n)}setActivity(e={},t=l()){let n,i,s,r;if(e.startTimestamp||e.endTimestamp){if((n={start:e.startTimestamp,end:e.endTimestamp}).start instanceof Date&&(n.start=Math.round(n.start.getTime()/1e3)),n.end instanceof Date&&(n.end=Math.round(n.end.getTime()/1e3)),n.start>2147483647)throw new RangeError("timestamps.start must fit into a unix timestamp");if(n.end>2147483647)throw new RangeError("timestamps.end must fit into a unix timestamp")}return(e.largeImageKey||e.largeImageText||e.smallImageKey||e.smallImageText)&&(i={large_image:e.largeImageKey,large_text:e.largeImageText,small_image:e.smallImageKey,small_text:e.smallImageText}),(e.partySize||e.partyId||e.partyMax)&&(s={id:e.partyId},(e.partySize||e.partyMax)&&(s.size=[e.partySize,e.partyMax])),(e.matchSecret||e.joinSecret||e.spectateSecret)&&(r={match:e.matchSecret,join:e.joinSecret,spectate:e.spectateSecret}),this.request(c.SET_ACTIVITY,{pid:t,activity:{state:e.state,details:e.details,timestamps:n,assets:i,party:s,secrets:r,instance:!!e.instance}})}clearActivity(e=l()){return this.request(c.SET_ACTIVITY,{pid:e})}sendJoinInvite(e){return this.request(c.SEND_ACTIVITY_JOIN_INVITE,{user_id:e.id||e})}sendJoinRequest(e){return this.request(c.SEND_ACTIVITY_JOIN_REQUEST,{user_id:e.id||e})}closeJoinRequest(e){return this.request(c.CLOSE_ACTIVITY_JOIN_REQUEST,{user_id:e.id||e})}async createLobby(e,t,n){return this.request(c.CREATE_LOBBY,{type:e,capacity:t,metadata:n})}async updateLobby(e,{type:t,owner:n,capacity:i,metadata:s}={}){return this.request(c.UPDATE_LOBBY,{id:e.id||e,type:t,owner_id:n&&n.id||n,capacity:i,metadata:s})}deleteLobby(e){return this.request(c.DELETE_LOBBY,{id:e.id||e})}async connectToLobby(e,t){return this.request(c.CONNECT_TO_LOBBY,{id:e,secret:t})}sendToLobby(e,t){return this.request(c.SEND_TO_LOBBY,{id:e.id||e,data:t})}disconnectFromLobby(e){return this.request(c.DISCONNECT_FROM_LOBBY,{id:e.id||e})}updateLobbyMember(e,t,n){return this.request(c.UPDATE_LOBBY_MEMBER,{lobby_id:e.id||e,user_id:t.id||t,metadata:n})}subscribe(e,t,n){return n||"function"!=typeof t||(n=t,t=void 0),this.request(c.SUBSCRIBE,t,e).then(()=>{const i=d(e,t);return this._subscriptions.set(i,n),{unsubscribe:()=>this.request(c.UNSUBSCRIBE,t,e).then(()=>this._subscriptions.delete(i))}})}async destroy(){this.transport.close()}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";const i=n(3);e.exports={Client:n(12),register:e=>i.register(`discord-${e}`)}}])});